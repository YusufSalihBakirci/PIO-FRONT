{"ast":null,"code":"import _objectSpread from \"C:/Users/USER/Desktop/PIO-FRONT/PIO-FRONT/theme/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/Users/USER/Desktop/PIO-FRONT/PIO-FRONT/theme/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _typeof from \"C:/Users/USER/Desktop/PIO-FRONT/PIO-FRONT/theme/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { reactive, watch, ref, computed } from 'vue';\nimport TargetJSCreator from './TargetJSCreator.vue';\nimport { pageReader } from '../AuxJS/PageReader';\nimport { FirePopup, FireBanner } from '../TargetTypes/TargetCodes';\nimport { useIframeStore } from '@/stores/iframeStore';\nexport default {\n  components: {\n    TargetJSCreator: TargetJSCreator\n  },\n  data: function data() {\n    return {\n      insertpositions: []\n    };\n  },\n  props: {\n    selectedTarget: {\n      type: Object,\n      required: true,\n      validator: function validator(value) {\n        return value && _typeof(value) === 'object' && 'id' in value;\n      }\n    },\n    isInline: {\n      type: Boolean,\n      required: false\n    },\n    dataId: {\n      type: Number,\n      required: true\n    }\n  },\n  mounted: function mounted() {\n    // console.log('initial val: ', this.selectedTarget)\n    var iframeStore = useIframeStore();\n    var currentIframe = iframeStore.content;\n    this.insertpositions = pageReader(currentIframe);\n    console.log(this.insertpositions);\n  },\n  methods: {\n    // Boş ve kullanılmayan method kaldırılabilir\n    createTargetParameters: function createTargetParameters() {}\n  },\n  setup: function setup(props) {\n    var getRequirements = function getRequirements() {\n      var _props$selectedTarget;\n      if (!((_props$selectedTarget = props.selectedTarget) !== null && _props$selectedTarget !== void 0 && _props$selectedTarget.TargetRequire)) return {};\n      var requirements = {};\n      Object.entries(props.selectedTarget.TargetRequire).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n          groupKey = _ref2[0],\n          groupValue = _ref2[1];\n        if (_typeof(groupValue) === 'object') {\n          requirements[groupKey] = {};\n          Object.entries(groupValue).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n              fieldKey = _ref4[0],\n              fieldValue = _ref4[1];\n            if (fieldKey !== 'description') {\n              requirements[groupKey][fieldKey] = fieldValue.value || '';\n            }\n          });\n        }\n      });\n      return requirements;\n    };\n    var proxyReq = reactive({\n      targetRequirements: getRequirements()\n    });\n    watch(function () {\n      return props.selectedTarget;\n    }, function (newValue) {\n      if (newValue) {\n        proxyReq.targetRequirements = getRequirements();\n        console.log('Updated proxyReq:', proxyReq);\n      }\n    }, {\n      deep: true,\n      immediate: true\n    });\n    var handleInputChange = function handleInputChange(key, value) {\n      var _props$selectedTarget2;\n      var _key$split = key.split('.'),\n        _key$split2 = _slicedToArray(_key$split, 2),\n        group = _key$split2[0],\n        field = _key$split2[1];\n      if (((_props$selectedTarget2 = props.selectedTarget) === null || _props$selectedTarget2 === void 0 || (_props$selectedTarget2 = _props$selectedTarget2.TargetRequire) === null || _props$selectedTarget2 === void 0 || (_props$selectedTarget2 = _props$selectedTarget2[group]) === null || _props$selectedTarget2 === void 0 ? void 0 : _props$selectedTarget2[field]) !== undefined) {\n        props.selectedTarget.TargetRequire[group][field].value = value;\n      }\n    };\n    var selectedRelativePosition = ref('');\n    var selectedPosition = ref('');\n    var onPreview = function onPreview() {\n      if (props.isInline) {\n        var proxyReqToPass = _objectSpread({\n          selectedPosition: selectedPosition,\n          selectedRelativePosition: selectedRelativePosition\n        }, proxyReq);\n        console.log(proxyReqToPass);\n        FireBanner(proxyReqToPass);\n      } else {\n        FirePopup(proxyReq);\n        console.log('firePopup');\n      }\n      // console.log('Updated Target Requirements:', proxyReq)\n      // console.log('Original remains unchanged:', props.selectedTarget)\n    };\n    var steps = computed(function () {\n      var _props$selectedTarget3;\n      var reqs = ((_props$selectedTarget3 = props.selectedTarget) === null || _props$selectedTarget3 === void 0 ? void 0 : _props$selectedTarget3.TargetRequire) || {};\n      var stepArray = [];\n\n      // Inline target için ilk adım\n      if (props.isInline) {\n        stepArray.push({\n          key: 'position',\n          title: 'Pozisyon Ayarları',\n          fields: {} // Bu adımda özel template kullanılacak\n        });\n      }\n\n      // Config.js'deki grupları adımlara dönüştür\n      if (reqs) {\n        Object.entries(reqs).forEach(function (_ref5) {\n          var _ref6 = _slicedToArray(_ref5, 2),\n            groupKey = _ref6[0],\n            groupValue = _ref6[1];\n          if (_typeof(groupValue) === 'object' && groupValue.description) {\n            var fields = {};\n            // Her gruptaki field'ları topla\n            Object.entries(groupValue).forEach(function (_ref7) {\n              var _ref8 = _slicedToArray(_ref7, 2),\n                key = _ref8[0],\n                value = _ref8[1];\n              if (key !== 'description') {\n                fields[key] = value;\n              }\n            });\n            stepArray.push({\n              key: groupKey,\n              title: groupValue.description,\n              fields: fields\n            });\n          }\n        });\n      }\n      console.log('Generated Steps:', stepArray);\n      return stepArray;\n    });\n    var totalSteps = computed(function () {\n      return steps.value.length;\n    });\n    var currentStep = ref(0);\n    var currentStepData = computed(function () {\n      return steps.value[currentStep.value] || null;\n    });\n    var currentStepFields = computed(function () {\n      var _currentStepData$valu;\n      var fields = ((_currentStepData$valu = currentStepData.value) === null || _currentStepData$valu === void 0 ? void 0 : _currentStepData$valu.fields) || {};\n      // Debug için\n      console.log('Current Step Fields:', fields);\n      return fields;\n    });\n    var currentStepTitle = computed(function () {\n      var _currentStepData$valu2;\n      return ((_currentStepData$valu2 = currentStepData.value) === null || _currentStepData$valu2 === void 0 ? void 0 : _currentStepData$valu2.title) || '';\n    });\n    var currentStepKey = computed(function () {\n      var _currentStepData$valu3;\n      return ((_currentStepData$valu3 = currentStepData.value) === null || _currentStepData$valu3 === void 0 ? void 0 : _currentStepData$valu3.key) || '';\n    });\n\n    // Yeni target seçildiğinde veya değiştiğinde\n    watch(function () {\n      return props.selectedTarget;\n    }, function (newValue) {\n      if (newValue) {\n        console.log('New Target Selected:', newValue);\n        console.log('Target Requirements:', newValue.TargetRequire);\n        currentStep.value = 0; // Reset to first step\n      }\n    }, {\n      immediate: true\n    });\n    var nextStep = function nextStep() {\n      if (currentStep.value < totalSteps.value - 1) {\n        currentStep.value++;\n      }\n    };\n    var prevStep = function prevStep() {\n      if (currentStep.value > 0) {\n        currentStep.value--;\n      }\n    };\n    return {\n      proxyReq: proxyReq,\n      onPreview: onPreview,\n      handleInputChange: handleInputChange,\n      getRequirements: getRequirements,\n      selectedRelativePosition: selectedRelativePosition,\n      selectedPosition: selectedPosition,\n      currentStep: currentStep,\n      totalSteps: totalSteps,\n      steps: steps,\n      currentStepFields: currentStepFields,\n      currentStepTitle: currentStepTitle,\n      currentStepKey: currentStepKey,\n      nextStep: nextStep,\n      prevStep: prevStep\n    };\n  }\n};","map":{"version":3,"names":["reactive","watch","ref","computed","TargetJSCreator","pageReader","FirePopup","FireBanner","useIframeStore","components","data","insertpositions","props","selectedTarget","type","Object","required","validator","value","_typeof","isInline","Boolean","dataId","Number","mounted","iframeStore","currentIframe","content","console","log","methods","createTargetParameters","setup","getRequirements","_props$selectedTarget","TargetRequire","requirements","entries","forEach","_ref","_ref2","_slicedToArray","groupKey","groupValue","_ref3","_ref4","fieldKey","fieldValue","proxyReq","targetRequirements","newValue","deep","immediate","handleInputChange","key","_props$selectedTarget2","_key$split","split","_key$split2","group","field","undefined","selectedRelativePosition","selectedPosition","onPreview","proxyReqToPass","_objectSpread","steps","_props$selectedTarget3","reqs","stepArray","push","title","fields","_ref5","_ref6","description","_ref7","_ref8","totalSteps","length","currentStep","currentStepData","currentStepFields","_currentStepData$valu","currentStepTitle","_currentStepData$valu2","currentStepKey","_currentStepData$valu3","nextStep","prevStep"],"sources":["C:\\Users\\USER\\Desktop\\PIO-FRONT\\PIO-FRONT\\theme\\src\\iframeTarget\\components\\InputPanel\\TargetCreator.vue"],"sourcesContent":["<template>\r\n  <div\r\n    v-if=\"steps.length > 0\"\r\n    :key=\"selectedTarget.id\"\r\n    :data-id=\"dataId\"\r\n    class=\"bg-white p-6 rounded-lg shadow-md\"\r\n  >\r\n    <!-- Step indicator with labels -->\r\n    <div class=\"mb-8\">\r\n      <div class=\"flex justify-between mb-2\">\r\n        <div\r\n          v-for=\"(step, index) in totalSteps\"\r\n          :key=\"index\"\r\n          class=\"flex flex-col items-center flex-1\"\r\n        >\r\n          <div class=\"flex items-center w-full\">\r\n            <!-- Step circle -->\r\n            <div\r\n              class=\"w-8 h-8 rounded-full flex items-center justify-center border-2 font-medium\"\r\n              :class=\"[\r\n                index < currentStep\r\n                  ? 'border-sky-500 bg-sky-500 text-white'\r\n                  : index === currentStep\r\n                    ? 'border-sky-500 text-sky-500'\r\n                    : 'border-gray-300 text-gray-300',\r\n              ]\"\r\n            >\r\n              {{ index + 1 }}\r\n            </div>\r\n            <!-- Connecting line -->\r\n            <div\r\n              v-if=\"index < totalSteps - 1\"\r\n              class=\"flex-1 h-0.5 mx-2\"\r\n              :class=\"index < currentStep ? 'bg-sky-500' : 'bg-gray-300'\"\r\n            ></div>\r\n          </div>\r\n          <!-- Step label -->\r\n          <span\r\n            class=\"text-xs mt-2 font-medium\"\r\n            :class=\"index <= currentStep ? 'text-sky-500' : 'text-gray-400'\"\r\n          >\r\n            {{ steps[index]?.title || `Adım ${index + 1}` }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Current step content -->\r\n    <div v-if=\"currentStepFields\" class=\"mb-6 transition-all duration-300 ease-in-out\">\r\n      <h3 class=\"text-2xl font-bold mb-6 text-gray-800\">\r\n        {{ currentStepTitle }}\r\n      </h3>\r\n\r\n      <!-- Inline position selectors -->\r\n      <div v-if=\"isInline && currentStep === 0\" class=\"space-y-4 mb-6\">\r\n        <div class=\"form-group\">\r\n          <label for=\"location\" class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Eklenecek Alan:\r\n          </label>\r\n          <select\r\n            class=\"w-full p-3 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent\"\r\n            name=\"location\"\r\n            id=\"location\"\r\n            v-model=\"selectedPosition\"\r\n          >\r\n            <option value=\"\" disabled>Secim Yapiniz</option>\r\n            <option\r\n              v-for=\"(posValue, posKey, posIndex) in insertpositions\"\r\n              :key=\"posIndex\"\r\n              :value=\"posValue\"\r\n            >\r\n              Position - {{ posKey + 1 }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\" for=\"where\">\r\n            Eklenecek Pozisyon:\r\n          </label>\r\n          <select\r\n            class=\"w-full p-3 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent\"\r\n            name=\"where\"\r\n            id=\"where\"\r\n            v-model=\"selectedRelativePosition\"\r\n          >\r\n            <option value=\"afterbegin\">Elemanin Baslangici</option>\r\n            <option value=\"beforeend\">Eleman Sonu</option>\r\n            <option value=\"afterend\">Elemandan Sonra</option>\r\n            <option value=\"beforebegin\">Elemandan Once</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Form fields -->\r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div v-for=\"(field, key) in currentStepFields\" :key=\"key\" class=\"form-group\">\r\n          <label :for=\"key\" class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            {{ field.description }}\r\n          </label>\r\n\r\n          <!-- Input type'a göre farklı input'lar -->\r\n          <template v-if=\"field.type === 'color'\">\r\n            <input\r\n              type=\"color\"\r\n              class=\"w-full p-1 h-10 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent\"\r\n              :name=\"key\"\r\n              :id=\"key\"\r\n              :value=\"field.value\"\r\n              @input=\"(e) => handleInputChange(currentStepKey + '.' + key, e.target.value)\"\r\n            />\r\n          </template>\r\n\r\n          <template v-else-if=\"field.type === 'date'\">\r\n            <input\r\n              type=\"datetime-local\"\r\n              class=\"w-full p-3 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent\"\r\n              :name=\"key\"\r\n              :id=\"key\"\r\n              :value=\"field.value\"\r\n              @input=\"(e) => handleInputChange(currentStepKey + '.' + key, e.target.value)\"\r\n            />\r\n          </template>\r\n\r\n          <template v-else-if=\"field.type === 'number'\">\r\n            <input\r\n              type=\"number\"\r\n              class=\"w-full p-3 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent\"\r\n              :name=\"key\"\r\n              :id=\"key\"\r\n              :value=\"field.value\"\r\n              @input=\"(e) => handleInputChange(currentStepKey + '.' + key, e.target.value)\"\r\n            />\r\n          </template>\r\n\r\n          <template v-else-if=\"field.type === 'url'\">\r\n            <input\r\n              type=\"url\"\r\n              class=\"w-full p-3 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent\"\r\n              :name=\"key\"\r\n              :id=\"key\"\r\n              :value=\"field.value\"\r\n              placeholder=\"https://\"\r\n              @input=\"(e) => handleInputChange(currentStepKey + '.' + key, e.target.value)\"\r\n            />\r\n          </template>\r\n\r\n          <template v-else>\r\n            <input\r\n              type=\"text\"\r\n              class=\"w-full p-3 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent\"\r\n              :name=\"key\"\r\n              :id=\"key\"\r\n              :value=\"field.value\"\r\n              @input=\"(e) => handleInputChange(currentStepKey + '.' + key, e.target.value)\"\r\n            />\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Navigation buttons -->\r\n    <div class=\"flex justify-between mt-8 pt-4 border-t border-gray-100\">\r\n      <button\r\n        v-if=\"currentStep > 0\"\r\n        class=\"px-6 py-2.5 rounded-lg text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200 flex items-center gap-2\"\r\n        @click=\"prevStep\"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          class=\"h-5 w-5\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n        Geri\r\n      </button>\r\n      <button\r\n        v-if=\"currentStep < totalSteps - 1\"\r\n        class=\"px-6 py-2.5 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors duration-200 flex items-center gap-2\"\r\n        @click=\"nextStep\"\r\n      >\r\n        İleri\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          class=\"h-5 w-5\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <button\r\n        v-else\r\n        class=\"px-6 py-2.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors duration-200 flex items-center gap-2\"\r\n        @click=\"onPreview\"\r\n      >\r\n        Preview\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          class=\"h-5 w-5\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"bg-white p-6 rounded-lg shadow-md\">\r\n    <p class=\"text-gray-500 text-center\">Lütfen bir hedef seçin</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, watch, ref, computed } from 'vue'\r\nimport TargetJSCreator from './TargetJSCreator.vue'\r\nimport { pageReader } from '../AuxJS/PageReader'\r\nimport { FirePopup, FireBanner } from '../TargetTypes/TargetCodes'\r\nimport { useIframeStore } from '@/stores/iframeStore'\r\n\r\nexport default {\r\n  components: {\r\n    TargetJSCreator,\r\n  },\r\n  data() {\r\n    return {\r\n      insertpositions: [],\r\n    }\r\n  },\r\n  props: {\r\n    selectedTarget: {\r\n      type: Object,\r\n      required: true,\r\n      validator(value) {\r\n        return value && typeof value === 'object' && 'id' in value\r\n      },\r\n    },\r\n    isInline: {\r\n      type: Boolean,\r\n      required: false,\r\n    },\r\n    dataId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    // console.log('initial val: ', this.selectedTarget)\r\n    const iframeStore = useIframeStore()\r\n    let currentIframe = iframeStore.content\r\n    this.insertpositions = pageReader(currentIframe)\r\n    console.log(this.insertpositions)\r\n  },\r\n  methods: {\r\n    // Boş ve kullanılmayan method kaldırılabilir\r\n    createTargetParameters() {},\r\n  },\r\n  setup(props) {\r\n    const getRequirements = () => {\r\n      if (!props.selectedTarget?.TargetRequire) return {}\r\n\r\n      const requirements = {}\r\n      Object.entries(props.selectedTarget.TargetRequire).forEach(([groupKey, groupValue]) => {\r\n        if (typeof groupValue === 'object') {\r\n          requirements[groupKey] = {}\r\n          Object.entries(groupValue).forEach(([fieldKey, fieldValue]) => {\r\n            if (fieldKey !== 'description') {\r\n              requirements[groupKey][fieldKey] = fieldValue.value || ''\r\n            }\r\n          })\r\n        }\r\n      })\r\n      return requirements\r\n    }\r\n\r\n    const proxyReq = reactive({\r\n      targetRequirements: getRequirements(),\r\n    })\r\n\r\n    watch(\r\n      () => props.selectedTarget,\r\n      (newValue) => {\r\n        if (newValue) {\r\n          proxyReq.targetRequirements = getRequirements()\r\n          console.log('Updated proxyReq:', proxyReq)\r\n        }\r\n      },\r\n      { deep: true, immediate: true },\r\n    )\r\n\r\n    const handleInputChange = (key, value) => {\r\n      const [group, field] = key.split('.')\r\n      if (props.selectedTarget?.TargetRequire?.[group]?.[field] !== undefined) {\r\n        props.selectedTarget.TargetRequire[group][field].value = value\r\n      }\r\n    }\r\n\r\n    const selectedRelativePosition = ref('')\r\n    const selectedPosition = ref('')\r\n\r\n    const onPreview = () => {\r\n      if (props.isInline) {\r\n        const proxyReqToPass = {\r\n          selectedPosition,\r\n          selectedRelativePosition,\r\n          ...proxyReq,\r\n        }\r\n        console.log(proxyReqToPass)\r\n        FireBanner(proxyReqToPass)\r\n      } else {\r\n        FirePopup(proxyReq)\r\n        console.log('firePopup')\r\n      }\r\n      // console.log('Updated Target Requirements:', proxyReq)\r\n      // console.log('Original remains unchanged:', props.selectedTarget)\r\n    }\r\n\r\n    const steps = computed(() => {\r\n      const reqs = props.selectedTarget?.TargetRequire || {}\r\n      const stepArray = []\r\n\r\n      // Inline target için ilk adım\r\n      if (props.isInline) {\r\n        stepArray.push({\r\n          key: 'position',\r\n          title: 'Pozisyon Ayarları',\r\n          fields: {}, // Bu adımda özel template kullanılacak\r\n        })\r\n      }\r\n\r\n      // Config.js'deki grupları adımlara dönüştür\r\n      if (reqs) {\r\n        Object.entries(reqs).forEach(([groupKey, groupValue]) => {\r\n          if (typeof groupValue === 'object' && groupValue.description) {\r\n            const fields = {}\r\n            // Her gruptaki field'ları topla\r\n            Object.entries(groupValue).forEach(([key, value]) => {\r\n              if (key !== 'description') {\r\n                fields[key] = value\r\n              }\r\n            })\r\n\r\n            stepArray.push({\r\n              key: groupKey,\r\n              title: groupValue.description,\r\n              fields: fields,\r\n            })\r\n          }\r\n        })\r\n      }\r\n\r\n      console.log('Generated Steps:', stepArray)\r\n      return stepArray\r\n    })\r\n\r\n    const totalSteps = computed(() => steps.value.length)\r\n    const currentStep = ref(0)\r\n\r\n    const currentStepData = computed(() => steps.value[currentStep.value] || null)\r\n    const currentStepFields = computed(() => {\r\n      const fields = currentStepData.value?.fields || {}\r\n      // Debug için\r\n      console.log('Current Step Fields:', fields)\r\n      return fields\r\n    })\r\n    const currentStepTitle = computed(() => currentStepData.value?.title || '')\r\n    const currentStepKey = computed(() => currentStepData.value?.key || '')\r\n\r\n    // Yeni target seçildiğinde veya değiştiğinde\r\n    watch(\r\n      () => props.selectedTarget,\r\n      (newValue) => {\r\n        if (newValue) {\r\n          console.log('New Target Selected:', newValue)\r\n          console.log('Target Requirements:', newValue.TargetRequire)\r\n          currentStep.value = 0 // Reset to first step\r\n        }\r\n      },\r\n      { immediate: true },\r\n    )\r\n\r\n    const nextStep = () => {\r\n      if (currentStep.value < totalSteps.value - 1) {\r\n        currentStep.value++\r\n      }\r\n    }\r\n\r\n    const prevStep = () => {\r\n      if (currentStep.value > 0) {\r\n        currentStep.value--\r\n      }\r\n    }\r\n\r\n    return {\r\n      proxyReq,\r\n      onPreview,\r\n      handleInputChange,\r\n      getRequirements,\r\n      selectedRelativePosition,\r\n      selectedPosition,\r\n      currentStep,\r\n      totalSteps,\r\n      steps,\r\n      currentStepFields,\r\n      currentStepTitle,\r\n      currentStepKey,\r\n      nextStep,\r\n      prevStep,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.rotate-180 {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.transition-all {\r\n  transition-property: all;\r\n}\r\n\r\n.duration-2000 {\r\n  transition-duration: 2000ms;\r\n}\r\n\r\n.duration-500 {\r\n  transition-duration: 500ms;\r\n}\r\n\r\n.max-h-0 {\r\n  max-height: 0;\r\n}\r\n\r\n.max-h-\\[500px\\] {\r\n  max-height: 500px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}