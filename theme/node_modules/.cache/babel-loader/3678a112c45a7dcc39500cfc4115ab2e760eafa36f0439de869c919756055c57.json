{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"w-1/2 relative h-100 p-5\"\n};\nvar _hoisted_2 = [\"label\"];\nvar _hoisted_3 = [\"value\", \"data-width\", \"data-height\", \"data-fill-ratio\"];\nvar _hoisted_4 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"label\", {\n    \"for\": \"device\",\n    \"class\": \"inline text-lg text-base font-semibold mb-1 w-100 text-center\"\n  }, \"Site Cozunurlugu\", -1 /* HOISTED */)), _createElementVNode(\"select\", {\n    name: \"device\",\n    \"class\": \"w-60 p-2 border border-gray-300 rounded-md shadow-sm mb-1 ml-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    onChange: _cache[0] || (_cache[0] = function () {\n      return $options.deviceSizeChange && $options.deviceSizeChange.apply($options, arguments);\n    })\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.breakPoints, function (optGvalue, optGkey) {\n    return _openBlock(), _createElementBlock(\"optgroup\", {\n      label: optGkey,\n      key: optGkey\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(optGvalue, function (optVal, optKey) {\n      return _openBlock(), _createElementBlock(\"option\", {\n        value: optVal,\n        \"data-width\": optVal.width,\n        \"data-height\": optVal.height,\n        \"data-fill-ratio\": optVal.fillRatio,\n        key: optKey\n      }, _toDisplayString(optVal.width + 'x' + optVal.height), 9 /* TEXT, PROPS */, _hoisted_3);\n    }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))], 32 /* NEED_HYDRATION */), _createElementVNode(\"iframe\", {\n    id: \"piovare-frame\",\n    ref: \"siteFrame\",\n    src: $data.iframeSrc,\n    sandbox: \"\\r\\n        allow-forms allow-modals\\r\\n        allow-orientation-lock\\r\\n        allow-pointer-lock\\r\\n        allow-popups\\r\\n        allow-scripts\\r\\n        allow-same-origin\\r\\n        \"\n  }, null, 8 /* PROPS */, _hoisted_4)]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","name","onChange","_cache","$options","deviceSizeChange","apply","arguments","_Fragment","_renderList","$data","breakPoints","optGvalue","optGkey","label","key","optVal","optKey","value","width","height","fillRatio","_hoisted_3","_hoisted_2","id","ref","src","iframeSrc","sandbox","_hoisted_4"],"sources":["C:\\Users\\USER\\Desktop\\PIO-FRONT\\PIO-FRONT\\theme\\src\\iframeTarget\\components\\TargetPreview.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-1/2 relative h-100 p-5\">\r\n    <label for=\"device\" class=\"inline text-lg text-base font-semibold mb-1 w-100 text-center\"\r\n      >Site Cozunurlugu</label\r\n    >\r\n    <select\r\n      name=\"device\"\r\n      class=\"w-60 p-2 border border-gray-300 rounded-md shadow-sm mb-1 ml-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n      @change=\"deviceSizeChange\"\r\n    >\r\n      <optgroup v-for=\"(optGvalue, optGkey) in breakPoints\" :label=\"optGkey\" :key=\"optGkey\">\r\n        <option\r\n          v-for=\"(optVal, optKey) in optGvalue\"\r\n          :value=\"optVal\"\r\n          :data-width=\"optVal.width\"\r\n          :data-height=\"optVal.height\"\r\n          :data-fill-ratio=\"optVal.fillRatio\"\r\n          :key=\"optKey\"\r\n        >\r\n          {{ optVal.width + 'x' + optVal.height }}\r\n        </option>\r\n      </optgroup>\r\n    </select>\r\n\r\n    <iframe\r\n      id=\"piovare-frame\"\r\n      ref=\"siteFrame\"\r\n      :src=\"iframeSrc\"\r\n      sandbox=\"\r\n        allow-forms allow-modals\r\n        allow-orientation-lock\r\n        allow-pointer-lock\r\n        allow-popups\r\n        allow-scripts\r\n        allow-same-origin\r\n        \"\r\n    ></iframe>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { watch } from 'vue'\r\nimport { pageHTML } from '../../public/FoodMart-1.0.0/htmlSample'\r\nimport { useIframeStore } from '@/stores/iframeStore'\r\n// import pageReader from './AuxJS/PageReader.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      iframeSrc: '../../public/FoodMart-1.0.0/index.html',\r\n      // iframeSrc: 'https://www.relateddigital.com/en/',\r\n      pageHTML,\r\n      // iframe icerisinde srcdoc her zaman onceliklidir. Dolayisiyla src fallback olarak kullanilmalidir. burada hatayi handle etmenin bir yoru bulunmali\r\n      // su anda iki versiyon da calisir durumda\r\n      breakPoints: {\r\n        desktop: [\r\n          { width: '1920', height: '1080', fillRatio: '0.45' },\r\n          { width: '1366', height: '768', fillRatio: '0.6' },\r\n          { width: '1600', height: '900', fillRatio: '0.5' },\r\n        ],\r\n        tablet: [\r\n          { width: '810', height: '1080', fillRatio: '0.7' },\r\n          { width: '1280', height: '800', fillRatio: '0.65' },\r\n          { width: '601', height: '962', fillRatio: '0.7' },\r\n        ],\r\n        mobile: [\r\n          { width: '390', height: '844', fillRatio: '' },\r\n          { width: '412', height: '915', fillRatio: '' },\r\n          { width: '360', height: '780', fillRatio: '' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    deviceSizeChange(e) {\r\n      const selectedSizeOption = e.target.options[e.target.selectedIndex]\r\n      const selectedWidth = selectedSizeOption.dataset.width\r\n      const selectedHeight = selectedSizeOption.dataset.height\r\n      const selectedFillRatio = selectedSizeOption.dataset.fillRatio\r\n\r\n      const iframe = this.$refs.siteFrame // Access the iframe using Vue ref\r\n      iframe.style.width = `${selectedWidth}px` // Set the width\r\n      iframe.style.height = `${selectedHeight}px` // Set the height\r\n\r\n      const parent = iframe.parentElement\r\n      const parentRect = parent.getBoundingClientRect()\r\n      const parentWidth = parentRect.width\r\n      const parentHeight = parentRect.height\r\n\r\n      // Calculate the scale factor\r\n      const aspectRatio = parentHeight / parentWidth\r\n      console.log(aspectRatio, 16 / 9)\r\n\r\n      iframe.style.transform = `translate(-50%, -50%) scale(${selectedFillRatio})`\r\n    },\r\n  },\r\n  setup() {\r\n    watch(\r\n      () => pageHTML,\r\n      (newValue) => {\r\n        if (newValue) {\r\n          console.log('watch calisti')\r\n          const iframeStore = useIframeStore()\r\n          iframeStore.setIframeContent(newValue)\r\n        }\r\n      },\r\n    )\r\n  },\r\n\r\n  mounted() {\r\n    const iframe = this.$refs.siteFrame // Access the iframe using a Vue ref\r\n\r\n    // Add the 'load' event listener to the iframe element\r\n    iframe.addEventListener('load', () => {\r\n      // Access the iframe's content\r\n      if (iframe) {\r\n        // Example: Use your iframe store to set iframe content\r\n        const iframeStore = useIframeStore()\r\n        iframeStore.setIframeContent(iframe)\r\n      } else {\r\n        console.warn('Iframe contentWindow is not available')\r\n      }\r\n    })\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#piovare-frame {\r\n  margin: 10px;\r\n  border: 5px solid lightgray;\r\n  border-radius: 5px;\r\n  width: 1920px;\r\n  height: 1080px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) scale(0.45);\r\n  /* scale: 0.35, 0.35; */\r\n  position: absolute;\r\n  right: 0;\r\n}\r\n</style>\r\n"],"mappings":";;EACO,SAAM;AAA0B;iBADvC;iBAAA;iBAAA;;uBACEA,mBAAA,CAoCM,OApCNC,UAoCM,G,0BAnCJC,mBAAA,CACiC;IAD1B,OAAI,QAAQ;IAAC,SAAM;KACvB,kBAAgB,sBAEnBA,mBAAA,CAiBS;IAhBPC,IAAI,EAAC,QAAQ;IACb,SAAM,oHAAoH;IACzHC,QAAM,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,CAAAC,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAgB;IAAA;yBAEzBT,mBAAA,CAWWU,SAAA,QArBjBC,WAAA,CAU+CC,KAAA,CAAAC,WAAW,EAV1D,UAUwBC,SAAS,EAAEC,OAAO;yBAApCf,mBAAA,CAWW;MAX4CgB,KAAK,EAAED,OAAO;MAAGE,GAAG,EAAEF;2BAC3Ef,mBAAA,CASSU,SAAA,QApBjBC,WAAA,CAYqCG,SAAS,EAZ9C,UAYkBI,MAAM,EAAEC,MAAM;2BADxBnB,mBAAA,CASS;QAPNoB,KAAK,EAAEF,MAAM;QACb,YAAU,EAAEA,MAAM,CAACG,KAAK;QACxB,aAAW,EAAEH,MAAM,CAACI,MAAM;QAC1B,iBAAe,EAAEJ,MAAM,CAACK,SAAS;QACjCN,GAAG,EAAEE;0BAEHD,MAAM,CAACG,KAAK,SAASH,MAAM,CAACI,MAAM,wBAnB/CE,UAAA;oDAAAC,UAAA;6DAwBIvB,mBAAA,CAYU;IAXRwB,EAAE,EAAC,eAAe;IAClBC,GAAG,EAAC,WAAW;IACdC,GAAG,EAAEhB,KAAA,CAAAiB,SAAS;IACfC,OAAO,EAAC;0BA5BdC,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}