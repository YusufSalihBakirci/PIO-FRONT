{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { useIframeStore } from '../../../stores/iframeStore';\nexport function FirePopup(basicInputsData) {\n  console.log(basicInputsData.targetRequirements['setImage.desktop-image-url']);\n  var config = {\n    desktopWidth: '600px',\n    mobileWidth: '320px',\n    img: window.innerWidth > 768 ? basicInputsData.targetRequirements['setImage.desktop-image-url'] : basicInputsData.targetRequirements['setImage.mobile-image-url'],\n    url: '#'\n  };\n  var iframeStore = useIframeStore();\n  var target = iframeStore.content.contentWindow.document;\n  if (!document.querySelector('#vl-popup-container')) {\n    var closePopup = function closePopup() {\n      popup.remove();\n      style.remove();\n    };\n    var clickPopup = function clickPopup() {\n      //<%VLSendClickFunc%>\n    }; //<%VLSendImpressionFunc%>\n    var style = document.createElement('style');\n    style.innerHTML = \"\\n        #vl-popup-container {\\n            z-index: 10000;\\n            width: 100%;\\n            height: 100%;\\n            position: fixed;\\n            top: 0;\\n            left: 0;\\n        }\\n\\n        #vl-popup-container .vl-popup-overlay {\\n            z-index: 10000;\\n            width: 100%;\\n            height: 100%;\\n            background: black;\\n            opacity: 0.6;\\n            position: fixed;\\n            top: 0;\\n            left: 0;\\n        }\\n\\n        #vl-popup-container .vl-popup {\\n            position: absolute;\\n            z-index: 100001;\\n            width:\".concat(config.desktopWidth, \";\\n            left: 50%;\\n            top: 50%;\\n            transform: translate(-50%, -50%);\\n            -webkit-transform: translate(-50%, -50%);\\n        }\\n\\n        #vl-popup-container .vl-popup-image {\\n            width:\").concat(config.desktopWidth, \";\\n        }\\n\\n        #vl-popup-container .vl-popup-close {\\n            position: absolute;\\n            right: 1em;\\n            top: 1em;\\n            cursor: pointer;\\n            z-index: 2;\\n            width: 2em;\\n            height: 2em;\\n            background-color: white;\\n            color: black;\\n            display: grid;\\n            place-items: center;\\n            border-radius: 50%;\\n        }\\n\\n        @media only screen and (max-width: 768px) {\\n            #vl-popup-container .vl-popup {\\n                width:\").concat(config.mobileWidth, \";\\n            }\\n\\n            #vl-popup-container .vl-popup-image {\\n                width:\").concat(config.mobileWidth, \";\\n            }\\n        }\\n        \");\n    target.head.append(style);\n    var popup = document.createElement('div');\n    popup.id = 'vl-popup-container';\n    popup.innerHTML = \"\\n        <div class=\\\"vl-popup-overlay\\\"></div>\\n        <div class=\\\"vl-popup\\\">\\n          <span class=\\\"vl-popup-close\\\">&#x2716;</span>\\n          <a href=\".concat(config.url, \">\\n            <img src=\").concat(config.img, \" class=\\\"vl-popup-image\\\" alt=\\\"vl-popup-image\\\" />\\n          </a>\\n        </div>\\n        \");\n    target.body.append(popup);\n    popup.querySelector('.vl-popup-overlay').addEventListener('click', closePopup);\n    popup.querySelector('.vl-popup-close').addEventListener('click', closePopup);\n    popup.querySelector('a').addEventListener('click', clickPopup);\n  }\n}\nexport function FireBanner(inputData) {\n  console.log('Data passed to the TargetCodes: ', inputData);\n  var config = {\n    backgroundColor: inputData.targetRequirements.general.backgroundColor,\n    appendPosition: inputData.selectedPosition.value,\n    appendRelativePosition: inputData.selectedRelativePosition.value,\n    url: inputData.targetRequirements.general.redirectUrl,\n    text: inputData.targetRequirements.setText.textContent,\n    fontWeight: inputData.targetRequirements.setText.fontWeight,\n    fontSize: inputData.targetRequirements.setText.fontSize\n  };\n  var iframeStore = useIframeStore();\n  var targetFrame = iframeStore.content.contentWindow.document;\n  if (targetFrame.querySelector('.hb-banner-container')) {\n    targetFrame.querySelectorAll('.hb-banner-container').forEach(function (b) {\n      b.remove();\n    });\n    targetFrame.querySelector('#hb-banner-style').remove();\n  }\n  if (!targetFrame.querySelector('.hb-banner-container')) {\n    var url = '#';\n    var style = document.createElement(\"style\");\n    style.id = 'hb-banner-style';\n    style.innerHTML = \"\\n.hb-banner-container{\\n  height: auto;\\n  margin: auto;\\n  background-color: \".concat(config.backgroundColor, \";\\n  border-radius: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: white;\\n  margin-bottom: 15px;\\n  font-size: \").concat(config.fontSize, \"px;\\n  text-align: center;\\n}\\n.vl-banner-link{\\n  text-decoration: none;\\n    color: white;\\n}\\n\\n@media only screen and (max-width: 768px) {\\n  .hb-banner-container{\\n    height: 50px;\\n    font-size: 13px;\\n    padding: 2px 15px;\\n    margin-top: 15px;\\n  }\\n}\\n\\n\");\n    targetFrame.head.append(style);\n    var banner = document.createElement('div');\n    banner.setAttribute('class', 'hb-banner-container');\n    banner.innerHTML = \"\\n<div class='vl-banner-elements'>\\n<a class='vl-banner-link' href=\".concat(url, \"> \").concat(config.text, \"</a>\\n</div>\\n\\n\");\n    targetFrame.querySelector('#' + config.appendPosition).insertAdjacentElement(config.appendRelativePosition, banner);\n    banner.querySelector('.vl-banner-link').addEventListener('click', function () {\n      console.log('banner-click');\n    });\n    // <%VLSendImpressionFunc%>\n  }\n}","map":{"version":3,"names":["useIframeStore","FirePopup","basicInputsData","console","log","targetRequirements","config","desktopWidth","mobileWidth","img","window","innerWidth","url","iframeStore","target","content","contentWindow","document","querySelector","closePopup","popup","remove","style","clickPopup","createElement","innerHTML","concat","head","append","id","body","addEventListener","FireBanner","inputData","backgroundColor","general","appendPosition","selectedPosition","value","appendRelativePosition","selectedRelativePosition","redirectUrl","text","setText","textContent","fontWeight","fontSize","targetFrame","querySelectorAll","forEach","b","banner","setAttribute","insertAdjacentElement"],"sources":["C:/Users/USER/Desktop/PIO-FRONT/PIO-FRONT/theme/src/iframeTarget/components/TargetTypes/TargetCodes.js"],"sourcesContent":["import { useIframeStore } from '../../../stores/iframeStore'\r\n\r\nexport function FirePopup(basicInputsData) {\r\n  console.log(basicInputsData.targetRequirements['setImage.desktop-image-url'])\r\n  const config = {\r\n    desktopWidth: '600px',\r\n    mobileWidth: '320px',\r\n    img:\r\n      window.innerWidth > 768\r\n        ? basicInputsData.targetRequirements['setImage.desktop-image-url']\r\n        : basicInputsData.targetRequirements['setImage.mobile-image-url'],\r\n    url: '#',\r\n  }\r\n  const iframeStore = useIframeStore()\r\n  let target = iframeStore.content.contentWindow.document\r\n  if (!document.querySelector('#vl-popup-container')) {\r\n    var style = document.createElement('style')\r\n    style.innerHTML = `\r\n        #vl-popup-container {\r\n            z-index: 10000;\r\n            width: 100%;\r\n            height: 100%;\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n        }\r\n\r\n        #vl-popup-container .vl-popup-overlay {\r\n            z-index: 10000;\r\n            width: 100%;\r\n            height: 100%;\r\n            background: black;\r\n            opacity: 0.6;\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n        }\r\n\r\n        #vl-popup-container .vl-popup {\r\n            position: absolute;\r\n            z-index: 100001;\r\n            width:${config.desktopWidth};\r\n            left: 50%;\r\n            top: 50%;\r\n            transform: translate(-50%, -50%);\r\n            -webkit-transform: translate(-50%, -50%);\r\n        }\r\n\r\n        #vl-popup-container .vl-popup-image {\r\n            width:${config.desktopWidth};\r\n        }\r\n\r\n        #vl-popup-container .vl-popup-close {\r\n            position: absolute;\r\n            right: 1em;\r\n            top: 1em;\r\n            cursor: pointer;\r\n            z-index: 2;\r\n            width: 2em;\r\n            height: 2em;\r\n            background-color: white;\r\n            color: black;\r\n            display: grid;\r\n            place-items: center;\r\n            border-radius: 50%;\r\n        }\r\n\r\n        @media only screen and (max-width: 768px) {\r\n            #vl-popup-container .vl-popup {\r\n                width:${config.mobileWidth};\r\n            }\r\n\r\n            #vl-popup-container .vl-popup-image {\r\n                width:${config.mobileWidth};\r\n            }\r\n        }\r\n        `\r\n    target.head.append(style)\r\n\r\n    const popup = document.createElement('div')\r\n    popup.id = 'vl-popup-container'\r\n    popup.innerHTML = `\r\n        <div class=\"vl-popup-overlay\"></div>\r\n        <div class=\"vl-popup\">\r\n          <span class=\"vl-popup-close\">&#x2716;</span>\r\n          <a href=${config.url}>\r\n            <img src=${config.img} class=\"vl-popup-image\" alt=\"vl-popup-image\" />\r\n          </a>\r\n        </div>\r\n        `\r\n    target.body.append(popup)\r\n\r\n    popup.querySelector('.vl-popup-overlay').addEventListener('click', closePopup)\r\n    popup.querySelector('.vl-popup-close').addEventListener('click', closePopup)\r\n\r\n    popup.querySelector('a').addEventListener('click', clickPopup)\r\n\r\n    function closePopup() {\r\n      popup.remove()\r\n      style.remove()\r\n    }\r\n\r\n    function clickPopup() {\r\n      //<%VLSendClickFunc%>\r\n    }\r\n    //<%VLSendImpressionFunc%>\r\n  }\r\n}\r\n\r\nexport function FireBanner(inputData) {\r\n  console.log('Data passed to the TargetCodes: ', inputData)\r\n  const config = {\r\n    backgroundColor: inputData.targetRequirements.general.backgroundColor,\r\n    appendPosition: inputData.selectedPosition.value,\r\n    appendRelativePosition: inputData.selectedRelativePosition.value,\r\n    url: inputData.targetRequirements.general.redirectUrl,\r\n    text: inputData.targetRequirements.setText.textContent,\r\n    fontWeight: inputData.targetRequirements.setText.fontWeight,\r\n    fontSize: inputData.targetRequirements.setText.fontSize,\r\n  }\r\n  const iframeStore = useIframeStore()\r\n  let targetFrame = iframeStore.content.contentWindow.document\r\n\r\n  if (targetFrame.querySelector('.hb-banner-container')) {\r\n    targetFrame.querySelectorAll('.hb-banner-container').forEach((b) => {\r\n      b.remove()\r\n    })\r\n    targetFrame.querySelector('#hb-banner-style').remove()\r\n  }\r\n\r\n  if (!targetFrame.querySelector('.hb-banner-container')) {\r\n    const url = '#'\r\n    const style = document.createElement(`style`)\r\n    style.id = 'hb-banner-style'\r\n\r\n    style.innerHTML = `\r\n.hb-banner-container{\r\n  height: auto;\r\n  margin: auto;\r\n  background-color: ${config.backgroundColor};\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  margin-bottom: 15px;\r\n  font-size: ${config.fontSize}px;\r\n  text-align: center;\r\n}\r\n.vl-banner-link{\r\n  text-decoration: none;\r\n    color: white;\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n  .hb-banner-container{\r\n    height: 50px;\r\n    font-size: 13px;\r\n    padding: 2px 15px;\r\n    margin-top: 15px;\r\n  }\r\n}\r\n\r\n`\r\n    targetFrame.head.append(style)\r\n\r\n    const banner = document.createElement('div')\r\n    banner.setAttribute('class', 'hb-banner-container')\r\n    banner.innerHTML = `\r\n<div class='vl-banner-elements'>\r\n<a class='vl-banner-link' href=${url}> ${config.text}</a>\r\n</div>\r\n\r\n`\r\n\r\n    targetFrame\r\n      .querySelector('#' + config.appendPosition)\r\n      .insertAdjacentElement(config.appendRelativePosition, banner)\r\n\r\n    banner.querySelector('.vl-banner-link').addEventListener('click', function () {\r\n      console.log('banner-click')\r\n    })\r\n    // <%VLSendImpressionFunc%>\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}