{"ast":null,"code":"import _toConsumableArray from \"C:/Users/USER/Desktop/PIO-FRONT/PIO-FRONT/theme/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nexport function pageReader(iframe) {\n  if (!iframe || !iframe.contentWindow || !iframe.contentWindow.document) {\n    console.warn('Iframe or its content is not ready');\n    return [];\n  }\n  try {\n    var frameHTML = iframe.contentWindow.document;\n    var divsAndSections = frameHTML.querySelectorAll('body > div[id], body > section[id]'); //sadece id attribute barindirian ilk elemanlar secildi. sonucta id unique olmali.\n    var header = frameHTML.querySelector('header');\n    // header elemanini da eklemek istedim cunku neden olmasin\n    header.id = 'he-header';\n    var topLevelElements = [header].concat(_toConsumableArray(divsAndSections));\n\n    //frame icine style ekleme\n    var frameStyle = document.createElement('style');\n    frameStyle.innerHTML = \"\\n.signalize{\\noverflow:hidden;\\nanimation: signalize 5s infinite;\\n}\\n\\n  @keyframes signalize {\\n    0% {\\n      scale: 1;\\n    }\\n    50% {\\n      scale: 1.05;\\n    }\\n      100%{\\n      scale:1;\\n      }\\n  }\\n  \";\n    frameHTML.head.append(frameStyle);\n    //frame icine style ekleme\n\n    var idList = [];\n    topLevelElements.forEach(function (el) {\n      idList.push(el.id);\n    });\n\n    // return topLevelElements //html collection olarak donen array. Direkt olarak html elemanlarini barindiriyor\n    return idList;\n  } catch (error) {\n    console.error('Error in pageReader:', error);\n    return [];\n  }\n}\nexport function styleSelected(frameContent, selectedId) {\n  var frameHTML = frameContent.contentWindow.document;\n  var previousIframeEl = frameHTML.querySelector('.signalize') || null;\n  console.log(previousIframeEl);\n  var selectedIframeEl = frameHTML.querySelector('#' + selectedId);\n  if (previousIframeEl) {\n    console.log('burada');\n    previousIframeEl.classList.remove('signalize');\n  }\n  selectedIframeEl.classList.add('signalize');\n}","map":{"version":3,"names":["pageReader","iframe","contentWindow","document","console","warn","frameHTML","divsAndSections","querySelectorAll","header","querySelector","id","topLevelElements","concat","_toConsumableArray","frameStyle","createElement","innerHTML","head","append","idList","forEach","el","push","error","styleSelected","frameContent","selectedId","previousIframeEl","log","selectedIframeEl","classList","remove","add"],"sources":["C:/Users/USER/Desktop/PIO-FRONT/PIO-FRONT/theme/src/iframeTarget/components/AuxJS/PageReader.js"],"sourcesContent":["export function pageReader(iframe) {\r\n  if (!iframe || !iframe.contentWindow || !iframe.contentWindow.document) {\r\n    console.warn('Iframe or its content is not ready');\r\n    return [];\r\n  }\r\n\r\n  try {\r\n    let frameHTML = iframe.contentWindow.document\r\n    let divsAndSections = frameHTML.querySelectorAll('body > div[id], body > section[id]') //sadece id attribute barindirian ilk elemanlar secildi. sonucta id unique olmali.\r\n    let header = frameHTML.querySelector('header')\r\n    // header elemanini da eklemek istedim cunku neden olmasin\r\n    header.id = 'he-header'\r\n    let topLevelElements = [header, ...divsAndSections]\r\n\r\n    //frame icine style ekleme\r\n    let frameStyle = document.createElement('style')\r\n    frameStyle.innerHTML = `\r\n.signalize{\r\noverflow:hidden;\r\nanimation: signalize 5s infinite;\r\n}\r\n\r\n  @keyframes signalize {\r\n    0% {\r\n      scale: 1;\r\n    }\r\n    50% {\r\n      scale: 1.05;\r\n    }\r\n      100%{\r\n      scale:1;\r\n      }\r\n  }\r\n  `\r\n    frameHTML.head.append(frameStyle)\r\n    //frame icine style ekleme\r\n\r\n    let idList = []\r\n\r\n    topLevelElements.forEach((el) => {\r\n      idList.push(el.id)\r\n    })\r\n\r\n    // return topLevelElements //html collection olarak donen array. Direkt olarak html elemanlarini barindiriyor\r\n    return idList\r\n  } catch (error) {\r\n    console.error('Error in pageReader:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function styleSelected(frameContent, selectedId) {\r\n  let frameHTML = frameContent.contentWindow.document\r\n\r\n  let previousIframeEl = frameHTML.querySelector('.signalize') || null\r\n  console.log(previousIframeEl)\r\n\r\n  let selectedIframeEl = frameHTML.querySelector('#' + selectedId)\r\n\r\n  if (previousIframeEl) {\r\n    console.log('burada')\r\n    previousIframeEl.classList.remove('signalize')\r\n  }\r\n\r\n  selectedIframeEl.classList.add('signalize')\r\n}\r\n"],"mappings":";;;;;;AAAA,OAAO,SAASA,UAAUA,CAACC,MAAM,EAAE;EACjC,IAAI,CAACA,MAAM,IAAI,CAACA,MAAM,CAACC,aAAa,IAAI,CAACD,MAAM,CAACC,aAAa,CAACC,QAAQ,EAAE;IACtEC,OAAO,CAACC,IAAI,CAAC,oCAAoC,CAAC;IAClD,OAAO,EAAE;EACX;EAEA,IAAI;IACF,IAAIC,SAAS,GAAGL,MAAM,CAACC,aAAa,CAACC,QAAQ;IAC7C,IAAII,eAAe,GAAGD,SAAS,CAACE,gBAAgB,CAAC,oCAAoC,CAAC,EAAC;IACvF,IAAIC,MAAM,GAAGH,SAAS,CAACI,aAAa,CAAC,QAAQ,CAAC;IAC9C;IACAD,MAAM,CAACE,EAAE,GAAG,WAAW;IACvB,IAAIC,gBAAgB,IAAIH,MAAM,EAAAI,MAAA,CAAAC,kBAAA,CAAKP,eAAe,EAAC;;IAEnD;IACA,IAAIQ,UAAU,GAAGZ,QAAQ,CAACa,aAAa,CAAC,OAAO,CAAC;IAChDD,UAAU,CAACE,SAAS,6NAiBrB;IACCX,SAAS,CAACY,IAAI,CAACC,MAAM,CAACJ,UAAU,CAAC;IACjC;;IAEA,IAAIK,MAAM,GAAG,EAAE;IAEfR,gBAAgB,CAACS,OAAO,CAAC,UAACC,EAAE,EAAK;MAC/BF,MAAM,CAACG,IAAI,CAACD,EAAE,CAACX,EAAE,CAAC;IACpB,CAAC,CAAC;;IAEF;IACA,OAAOS,MAAM;EACf,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdpB,OAAO,CAACoB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,OAAO,EAAE;EACX;AACF;AAEA,OAAO,SAASC,aAAaA,CAACC,YAAY,EAAEC,UAAU,EAAE;EACtD,IAAIrB,SAAS,GAAGoB,YAAY,CAACxB,aAAa,CAACC,QAAQ;EAEnD,IAAIyB,gBAAgB,GAAGtB,SAAS,CAACI,aAAa,CAAC,YAAY,CAAC,IAAI,IAAI;EACpEN,OAAO,CAACyB,GAAG,CAACD,gBAAgB,CAAC;EAE7B,IAAIE,gBAAgB,GAAGxB,SAAS,CAACI,aAAa,CAAC,GAAG,GAAGiB,UAAU,CAAC;EAEhE,IAAIC,gBAAgB,EAAE;IACpBxB,OAAO,CAACyB,GAAG,CAAC,QAAQ,CAAC;IACrBD,gBAAgB,CAACG,SAAS,CAACC,MAAM,CAAC,WAAW,CAAC;EAChD;EAEAF,gBAAgB,CAACC,SAAS,CAACE,GAAG,CAAC,WAAW,CAAC;AAC7C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}